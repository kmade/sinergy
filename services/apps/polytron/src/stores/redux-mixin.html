<script src="../../node_modules/redux/dist/redux.js"></script>
<script src="../../node_modules/redux-thunk/dist/redux-thunk.js"></script>
<link rel="import" href="../../node_modules/polymer-redux/dist/polymer-redux.html">
<script>
// Setup a Redux store
(Sinergy => {

  const initial = {
    user: null,
    message: null,
  }
  // ALWAYS return new state
  const reducer = (state, action) => {
    switch (action.type) {
      case 'UPDATE_USER':
        return Object.assign({}, state, { user: action.user })
      case 'UPDATE_MESSAGE':
        return Object.assign({}, state, { message: action.message })
      default:
        return state;
    }
  };
  const store = Redux.createStore(reducer, initial, Redux.applyMiddleware(window.ReduxThunk.default))
  // Export the ReduxMixin
  ReduxMixin = PolymerRedux(store)
})(window.Sinergy)
</script>
